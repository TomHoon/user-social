@use "../../common/variables" as *;

header {
 .inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: $border;
  height: $header-height;
  position: relative;

  .right {
   display: flex;
   gap: $spacing-md;
   align-items: center;
   .auth-links {
     align-items: center;
     display: flex;
     gap: $gutter-sm;
    .link {
     font-size: $font-size-sm;
     color: $color-bg;
    }
   }
  }

  .user-menu {
   position: relative;
   color: $color-bg;

   .user-button {
    display: flex;
    align-items: center;
    gap: $spacing-sm;
    cursor: pointer;
    background: none;
    border: none;
    padding: $spacing-xs $spacing-sm;
    border-radius: $border-radius-md;
    transition: background-color 0.2s ease;

    .user-avatar {
     width: $spacing-xxxl;
     height: $spacing-xxxl;
     border-radius: $border-radius-full;
     object-fit: cover;
     border: $border;
    }

    .user-avatar-placeholder {
     cursor: pointer;
     width: $spacing-xxxl;
     height: $spacing-xxxl;
     border-radius: $border-radius-full;
     background: $gradient-gray-light;
     display: flex;
     align-items: center;
     justify-content: center;
     font-size: $font-size-lg;
     font-weight: $font-weight-semibold;
     color: $color-text-secondary;
     border: $border;
     transition: all 0.2s ease;

     &:hover {
      background: $gradient-gray-medium;
      color: $color-bg;
      transform: scale(1.05);
     }
    }

    .user-name {
     font-weight: $font-weight-semibold;
     font-size: $font-size-base;
     color: $color-bg;
    }

    &:hover {
     background-color: $color-bg-light;

     .user-name {
      color: $color-text;
     }
    }
   }

   .dropdown-menu {
    position: absolute;
    top: calc(100% + $spacing-sm);
    right: 0;
    background-color: $color-bg;
    padding: $spacing-sm;
    box-shadow: $shadow-lg;
    border-radius: $border-radius-lg;
    border: $border-light;
    min-width: 24rem;
    z-index: 1000;
    animation: dropdownFadeIn 0.2s ease;

    @keyframes dropdownFadeIn {
     from {
      opacity: 0;
      transform: translateY(-1rem);
     }

     to {
      opacity: 1;
      transform: translateY(0);
     }
    }

    .dropdown-header {
     padding: $spacing-md;
     background-color: $color-bg-light;
     border-radius: $border-radius-md;
     margin-bottom: $spacing-sm;

     .dropdown-user-name {
      font-weight: $font-weight-bold;
      font-size: $font-size-lg;
      color: $color-text;
      margin-bottom: $spacing-xs;
     }

     .dropdown-user-email {
      font-size: $font-size-sm;
      color: $color-text-secondary;
     }
    }

    .dropdown-divider {
     height: 0.1rem;
     background-color: $color-border;
     margin: $spacing-sm 0;
    }

    .dropdown-item {
     display: flex;
     align-items: center;
     gap: $spacing-sm;
     padding: $spacing-sm $spacing-md;
     color: $color-text;
     text-decoration: none;
     border-radius: $border-radius-md;
     font-size: $font-size-base;
     transition: all 0.2s ease;
     cursor: pointer;

     .dropdown-icon {
      font-size: $font-size-lg;
     }

     &:hover {
      background-color: $color-bg-light;
      color: $color-primary;
      transform: translateX(0.4rem);
     }

     &:active {
      background-color: $color-border-light;
     }
    }

    button.dropdown-item {
     width: 100%;
     border: none;
     background: none;
     text-align: left;
     font-family: $font-family-base;
     font-size: small;
    }

    // 반응형: 중간 화면 이하에서 드롭다운 메뉴 스타일 변경
    @media screen and (max-width: $breakpoint-md) {
     min-width: 16rem;
     right: 0;
     left: auto;
     padding: $spacing-xs;
     .dropdown-header {
      padding: $spacing-sm;
      .dropdown-user-name {
       font-size: $font-size-base;
      }
      .dropdown-user-email {
       font-size: $font-size-xs;
      }
     }
     .dropdown-item {
      padding: $spacing-xs $spacing-sm;
      font-size: $font-size-sm;
      .dropdown-icon {
       font-size: $font-size-base;
      }
     }
    }

    // 모바일: 작은 화면에서 드롭다운 메뉴 전체 너비 사용
    @media screen and (max-width: $breakpoint-xs) {
     min-width: 100vw;
     left: 0;
     right: 0;
     border-radius: 0 0 $border-radius-lg $border-radius-lg;
    }
   }
  }
 }

 .btn-wishlist {
  color: $color-bg;
  font-size: $font-size-xs;
 }

 @media screen and (max-width: $breakpoint-lg) {
  .inner {
   h1.logo {
    a {
     font-size: $font-size-sm;
    }

    &::before {
     margin-right: $spacing-xs;
    }
   }

   .user-menu {
    .user-button {
     gap: $spacing-xs;
     padding: 0;
     .user-avatar-placeholder {
      width: $spacing-md;
      height: $spacing-md;
      font-size: $font-size-sm;
     }
     .user-name {
      font-size: $font-size-xs;
     }
    }
   }
  }
 }
}
